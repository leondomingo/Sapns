<!--{% if cascade %}-->
<div id="cascade-title">{{_('Cascade delete')}}</div>
<!--{% endif %}-->

<div id="wait-message" style="display:none">{{_('Wait, please')}}...</div>

<!--{% if ids|length == 1 %}-->
<div id="delete-question">{{_('Do you really want to delete this record?')}}</div>
<!--{% else %}-->
<div id="delete-question">{{_('Do you really want to delete these records?')}}</div>
<!--{% endif %}-->
<div id="object-title">{{title}}</div>

<!--{% if cascade %}-->
<script>
function cascade_delete(callback, callback_error) {
    $('#wait-message').fadeIn();
    $.ajax({
        url: "{{tg.url('/dashboard/cascade_delete_/')}}",
        data: { cls: "{{cls}}", ids: "{{ids}}" },
        success: function(res) {
            $('#wait-message').fadeOut();
            if (res.status) {
                callback();
            }
            else {
                alert('Error!');
                callback_error();
            }
        },
        error: function() {
            $('#wait-message').fadeOut();
            alert('Error!');
            callback_error();
        }
    });
}
</script>
<!--{% endif %}-->