{% extends 'base.html' %}
{% import 'dashboard/util.html' as util %}

{# Head #}
{% block head %}
    {{super()}}
    {{util.jquery()}}
    {{util.jquery_ui()}}
    {{util.jquery_jstree()}}
{% endblock %}

{# Middle #}
{% block middle %}
    {{super()}}
    
    {#
    <!--<style type="text/css">
        .sc_type {
            border: 1px dotted gray;
            margin-left: 5px;
            margin-right: 5px;
            float: left;
            background-color: white;
        }
    </style>-->
    #}
    
    <div style="height: 30px; margin-top: 10px; margin-left: 20px; font-size: 20px;">
        <a href="/dashboard">{{_('Dashboard')}}</a>
    </div>
    {#<!--<div>-->#}
    
    <!-- parent shortcut -->
    <div style="margin-left: 20px;"> <!-- style="float: left; width: 400px;"> -->
        {% if sc_parent %}
        <a href="{{tg.url('/dashboard', sc_parent=sc_parent)}}">[{{_('up')}}]</a>
        {% else %}
        <a href="">[  ]</a>
        {% endif %}
    </div>
    
    {#
    <!-- shortcut actions -->
    <!--
    <div style="">
        <select id="shortcut_actions">
            <option value="">{{_('(action)')}}</option> 
            <option value="edit">{{_('Edit')}}</option>
            <option value="delete">{{_('Delete')}}</option>
            <option value="send-to">{{_('Send to dashboard')}}</option>
            <option value="share">{{_('Share')}}</option>
        </select>
    </div>
    </div>
    -->
    #}
    
    {#
    <!--
    <div>
        <a class="sc_type" href="{{tg.url('/', sc_type='list')}}">List</a>
        <a class="sc_type" href="{{tg.url('/', sc_type='bigicon')}}">Big icon</a>
        <a class="sc_type" style="float: none;" 
            href="{{tg.url('/', sc_type='smallicon')}}">Small icon</a>
    </div>
    -->
    #}
    
    <div style="border: 1px solid white; height: 300px; overflow: auto;">
    {% if sc_type == 'list' %}
        {% include 'shortcuts/list.html' %}
    {% elif sc_type == 'bigicon' %}
        {% include 'shortcuts/bigicon.html' %}
    {% endif %}
    
    </div>
    
    <div>
    <div class="sp_shortcut">
        <a href="{{tg.url('/dashboard/util', 
            params=dict(came_from='/dashboard'))}}">{{_('Utilities')}}</a>
    </div>
    
    <div class="sp_shortcut">
        <a href="{{tg.url('/dashboard/views', 
            params=dict(came_from='/dashboard'))}}">{{_('Views')}}</a>
    </div>
    
    <div class="sp_shortcut">
        <a href="{{tg.url('/dashboard/users', 
            params=dict(came_from='/dashboard'))}}">{{_('Users')}}</a>
    </div>
    
    <div class="sp_shortcut">
        <a href="/dashboard/messages">{{_('Messages')}}</a>
        <span class="sp_messages" 
            style="{% if unread > 0 %} font-weight: bold; {% endif %}">{{unread}} / </span>
        <span class="sp_messages">{{messages}} messages</span>
    </div>
    </div>
    
    <div id="tree-test">
    </div>

    {#{{curr_lang[0]}}#}
    {#
    <!--
    <a href="{{tg.url('/setlang', lang='en')}}" 
        {% if curr_lang[0] == 'en' %} style="color: navy;" {% endif %}>[English]</a>    
    <a href="{{tg.url('/setlang', lang='es')}}"
        {% if curr_lang[0] == 'es' %} style="color: navy;" {% endif %}>[Espa√±ol]</a>
    -->
    #}
{% endblock %}

{#
<!-- Uncomment the next section and override the "footer" block if you want to -->
<!-- 
{% block footer %}
    {{ super() }}
{% endblock %}
-->
#}

<script type="text/javascript">
    $(document).ready(function(){
    	$('#tree-test').jstree({
    		plugins: ['json_data'],
    		json_data:
    		{ 
    		    data : "node_title", 
    		    // omit `attr` if not needed; the `attr` object gets passed to the jQuery `attr` function
    		    attr : { id : "node_identificator", some-other-attribute : "attribute_value" }, 
    		    // `state` and `children` are only used for NON-leaf nodes
    		    state: "closed", // or "open", defaults to "closed"
    		    children: [ /* an array of child nodes objects */ ]
    		}    			
    	});
    });
</script>