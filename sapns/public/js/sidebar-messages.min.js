var SidebarMessages=function(b){var a=this;var c=$.extend(true,{width:200,after_show_message:null,after_hide_message:null},b);
$.extend(true,a,c);a.messages={};if($(".sidebar-messages").length===0){var d='<div class="sidebar-messages" style="width:'+a.width+'px;"></div>';
$(d).appendTo("body");$('<div id="sidebar-messages-modal" style="display:none; position:fixed;                 left:0; top:0; width:100%; height:100%; opacity:0.4;                 background-color:#666; z-index:999"></div>').appendTo("body")
}a.show=function(e){var g=$.extend(true,{id:"sbm-message_"+Math.floor(Math.random()*99999),hide_after:5000,styles:"sbm-message-std",modal:false},e);
a.messages[g.id]=true;var f='<div id="'+g.id+'" class="sbm-message '+g.styles+'">'+g.message+"</div>";
$(".sidebar-messages").append(f);if(a.after_show_message){a.after_show_message(g.id)
}if(g.modal){$("#sidebar-messages-modal").show()}if(typeof(g.hide_after)==="number"&&g.hide_after>0){setTimeout(function(){a.hide({id:g.id})
},g.hide_after)}return g.id};a.hide=function(e){var f=$.extend(true,{velocity:"slow"},e);
var g=$("#"+f.id).length>0;for(id in a.messages){if(id===f.id){delete a.messages[id]
}}$("#"+f.id).fadeOut(f.velocity,function(){$("#"+f.id).remove();$("#sidebar-messages-modal").hide();
delete a.messages[f.id];if(a.after_hide_message){a.after_hide_message(f.id)}});return g
};a.hide_all=function(){for(id in a.messages){a.hide({id:id})}}};