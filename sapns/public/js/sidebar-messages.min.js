var SidebarMessages=function(b){var a=this;var d=$.extend(true,{width:200,after_show_message:null,after_hide_message:null},b);
$.extend(true,a,d);a.messages={};if($(".sidebar-messages").length===0){$("<div/>",{"class":"sidebar-messages",style:"width:"+a.width+"px"}).appendTo("body");
$("<div/>",{id:"sidebar-messages-modal"}).appendTo("body")}var c=".sidebar-messages .sbm-message";
$(document).off("click",c).on("click",c,function(){var e=$(this);e.fadeOut("slow",function(){e.remove()
})});a.show=function(e){var f=$.extend(true,{id:"sbm-message_"+Math.floor(Math.random()*99999),hide_after:5000,styles:"sbm-message-std",modal:false},e);
a.messages[f.id]=true;$("<div/>",{id:f.id,"class":"sbm-message "+f.styles,html:f.message}).appendTo(".sidebar-messages");
if(a.after_show_message){a.after_show_message(f.id)}if(f.modal){$("#sidebar-messages-modal").show()
}if(typeof(f.hide_after)==="number"&&f.hide_after>0){setTimeout(function(){a.hide({id:f.id})
},f.hide_after)}return f.id};a.hide=function(e){var f=$.extend(true,{velocity:"slow"},e);
var g=$("#"+f.id).length>0;for(id in a.messages){if(id===f.id){delete a.messages[id]
}}$("#sidebar-messages-modal").hide();$("#"+f.id).fadeOut(f.velocity,function(){$("#"+f.id).remove();
delete a.messages[f.id];if(a.after_hide_message){a.after_hide_message(f.id)}});return g
};a.hide_all=function(){for(id in a.messages){a.hide({id:id})}}};